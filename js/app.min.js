'use strict';(function(){var a=1,b=3,c=!!('localStorage'in window),d=function(p){c&&localStorage.setItem('gamestate',JSON.stringify([a,b,svgs,p.innerHTML]))},g=function(){c&&localStorage.removeItem('gamestate')},h=function f(){if(c){var p=JSON.parse(localStorage.getItem('gamestate'));if(p)return a=p[0],b=p[1],svgs=p[2],p[3]}}(),j=document.querySelector('[role="status"]'),k=document.querySelector('main'),l=document.querySelectorAll('nav a'),m=function(){return'<button aria-disabled="true">'+b+' &#x2764;&#xFE0F;</button>'},n=function(p){if('hidden'===p.target.style.visibility||j.classList.contains('next')||j.classList.contains('gameover'))return(j.classList.contains('next')||j.classList.contains('gameover'))&&j.querySelector('button').focus(),!1;p.preventDefault();var q=p.target.className,r=document.querySelector('.current.svg'),s=!1;q&&r&&(j.className='',p.target.setAttribute('aria-disabled','true'),r.classList.add(q),Array.prototype.forEach.call(document.querySelectorAll('.current.svg .color.'+q),function(t){t.classList.remove('color'),s=!0}),setTimeout(function(){document.querySelectorAll('.current.svg .color').length?s?(j.innerHTML='<div><h1>Niv\xE5 '+a+'</h1><p>R\xE4tt! Forts\xE4tt gissa!</p></div>'+m(),j.className='correct'):(b-=1,0>=b?(j.innerHTML='<div><h1>Game over!</h1><p>Niv\xE5 '+a+'</div><button class="playagain">Spela igen &#x1F504;</button>',j.className='wrong gameover',g()):(j.innerHTML='<div><h1>Niv\xE5 '+a+'</h1><p>Fel! F\xF6rs\xF6k igen!</p></div>'+m(),j.className='wrong')):(b+=1,j.innerHTML='<div><h1>Niv\xE5 '+a+'</h1><p>R\xE4tt! +1 &#x2764;&#xFE0F;</p></div><button class="nextlevel">N\xE4sta niv\xE5 &#x27A1;&#xFE0F;</button>',j.className='correct next')},100))},o=function(p){var q=Math.floor(Math.random()*svgs.length),r=p?p:svgs[q];if(r){var s=document.createElement('div'),t=document.querySelector('.svg.current');s.className='svg new',s.innerHTML=r,k.appendChild(s),p||svgs.splice(q,1),t&&(t.classList.remove('current'),t.classList.add('done'),setTimeout(function(){k.removeChild(t)},600)),d(s),setTimeout(function(){s.classList.remove('new'),s.classList.add('current')},500),Array.prototype.forEach.call(l,function(u,v){setTimeout(function(){u.setAttribute('aria-disabled','false')},50*v)}),j.className='',setTimeout(function(){j.className='status',j.innerHTML='<div><h1>Niv\xE5 '+a+'</h1><p>B\xF6rja gissa!</p></div>'+m()},100)}};Array.prototype.forEach.call(l,function(p){p.addEventListener('click',n,!1)}),document.addEventListener('click',function(p){p.target.classList.contains('playagain')&&document.location.reload(),p.target.classList.contains('nextlevel')&&(svgs&&svgs.length?(a+=1,o()):(j.innerHTML='<div><h1>Du klarade det!</h1><p>Bra jobbat!</p></div><button class="playagain">Spela igen &#x1F504;</button>',j.className='correct gameover',g()))}),j.className='status',j.innerHTML='<p>Niv\xE5 '+a+'</p>'+m(),svgs&&svgs.length?o(h):(j.innerHTML='<div><h1>N\xE5got gick fel!</h1></div><button class="playagain">Spela igen &#x1F504;</button>',j.className='wrong gameover')})();